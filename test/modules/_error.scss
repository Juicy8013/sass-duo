@use 'node_modules/sass-true/sass/true';
@use 'src/error' as duo;

@include true.test-module('Error') {
    @include true.test('@function — error()') {
      @include true.assert-equal(duo.error('Sample error.'), null);
      @include true.assert-equal(duo.error('Sample error.', $return: -1), -1);
    }

    @include true.test('@mixin    — error()') {
      @include true.assert('In-CSS errors') {
        @include true.output {
          @include duo.error('Sample error.', $level: 'error');
          @include duo.error('Sample error.', $level: 'warning');
          @include duo.error('Sample error.', $level: 'debug');
          @include duo.error('Sample error.', 'test/output');
        }

        @include true.expect {
          /* ERROR: Sample error. */
          /* WARNING: Sample error. */
          /* INFO: Sample error. */
          /* WARNING: [test/output] Sample error. */
        }
      }

      @include true.assert('In-CSS (private) errors') {
        @include true.output {
          @include duo.error('Sample error.', $public: false);
        }

        @include true.expect {
        }
      }
    }
}
